null_resource.foo7: Still creating... [10m40s elapsed]
null_resource.foo7: Still creating... [10m50s elapsed]
null_resource.foo7: Still creating... [11m0s elapsed]
null_resource.foo7: Still creating... [11m10s elapsed]
null_resource.foo7: Still creating... [11m20s elapsed]
null_resource.foo7: Still creating... [11m30s elapsed]
null_resource.foo7 (remote-exec): fatal: [localhost]: FAILED! => {"attempts": 3, "changed": true, "cmd": ["python3", "../python/retrieveCloudStatus.py", "~/.creds.json", "cloud-36c7e087-a8a5-4c21-b0a2-3f4b4a47780f"], "delta": "0:00:00.485801", "end": "2022-01-29 07:40:15.650036", "msg": "non-zero return code", "rc": 1, "start": "2022-01-29 07:40:15.164235", "stderr": "/usr/lib/python3/dist-packages/urllib3/connectionpool.py:999: InsecureRequestWarning: Unverified HTTPS request is being made to host '192.168.0.2'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings\n  warnings.warn(\n/usr/lib/python3/dist-packages/urllib3/connectionpool.py:999: InsecureRequestWarning: Unverified HTTPS request is being made to host '192.168.0.2'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings\n  warnings.warn(\nTraceback (most recent call last):\n  File \"../python/retrieveCloudStatus.py\", line 36, in <module>\n    for cloud in defineClass.getObject(path):\n  File \"../python/retrieveCloudStatus.py\", line 26, in getObject\n    return result.json()['results']\n  File \"/usr/local/lib/python3.8/dist-packages/avi/sdk/avi_api.py\", line 122, in json\n    raise APIError('HTTP Error: %d Error Msg %s' % (\navi.sdk.avi_api.APIError: ('HTTP Error: 400 Error Msg {\"error\": \"Versioning failed converting from 16.4.2 to 21.1.1\"}', <Response [400]>)", "stderr_lines": ["/usr/lib/python3/dist-packages/urllib3/connectionpool.py:999: InsecureRequestWarning: Unverified HTTPS request is being made to host '192.168.0.2'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings", "  warnings.warn(", "/usr/lib/python3/dist-packages/urllib3/connectionpool.py:999: InsecureRequestWarning: Unverified HTTPS request is being made to host '192.168.0.2'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings", "  warnings.warn(", "Traceback (most recent call last):", "  File \"../python/retrieveCloudStatus.py\", line 36, in <module>", "    for cloud in defineClass.getObject(path):", "  File \"../python/retrieveCloudStatus.py\", line 26, in getObject", "    return result.json()['results']", "  File \"/usr/local/lib/python3.8/dist-packages/avi/sdk/avi_api.py\", line 122, in json", "    raise APIError('HTTP Error: %d Error Msg %s' % (", "avi.sdk.avi_api.APIError: ('HTTP Error: 400 Error Msg {\"error\": \"Versioning failed converting from 16.4.2 to 21.1.1\"}', <Response [400]>)"], "stdout": "", "stdout_lines": []}
null_resource.foo7 (remote-exec): ...ignoring

null_resource.foo7 (remote-exec): TASK [Modify/Creating SE group - GCP] ******************************************
null_resource.foo7 (remote-exec): failed: [localhost] (item=Modifying SE group called Default-Group) => {"ansible_loop_var": "item", "changed": false, "item": {"buffer_se": 0, "ha_mode": "HA_MODE_SHARED", "instance_flavor": "n1-standard-2", "min_scaleout_per_vs": 2, "name": "Default-Group", "realtime_se_metrics": {"duration": 0, "enabled": true}}, "msg": "Error 400 Msg {\"error\": \"Get https://compute.googleapis.com/compute/v1/projects/projectavi-283209/regions/europe-north1?alt=json&prettyPrint=false: x509: certificate specifies an incompatible key usage\"} req: {'cloud_ref': '/api/cloud/?name=cloudGcp', 'name': 'Default-Group', 'ha_mode': 'HA_MODE_SHARED', 'min_scaleout_per_vs': 2, 'buffer_se': 0, 'realtime_se_metrics': {'duration': 0, 'enabled': True}, 'instance_flavor': 'n1-standard-2'} api_context:{'session_id': '3yza9lpmwvwih7ig9j1gv1iki65jk4jt', 'csrftoken': 'J8IbfUNLLAzhIHE2184PLnqem6EwrA0G'} "}
null_resource.foo7 (remote-exec): failed: [localhost] (item=Modifying SE group called seGroupCpuAutoScale) => {"ansible_loop_var": "item", "changed": false, "item": {"auto_rebalance": true, "auto_rebalance_criteria": ["SE_AUTO_REBALANCE_CPU"], "auto_rebalance_interval": 30, "buffer_se": 0, "extra_shared_config_memory": 0, "ha_mode": "HA_MODE_SHARED", "instance_flavor": "n1-standard-1", "min_scaleout_per_vs": 1, "name": "seGroupCpuAutoScale", "realtime_se_metrics": {"duration": 0, "enabled": true}}, "msg": "Error 400 Msg {\"error\": \"Get https://compute.googleapis.com/compute/v1/projects/projectavi-283209/regions/europe-north1?alt=json&prettyPrint=false: x509: certificate specifies an incompatible key usage\"} req: {'cloud_ref': '/api/cloud/?name=cloudGcp', 'name': 'seGroupCpuAutoScale', 'ha_mode': 'HA_MODE_SHARED', 'min_scaleout_per_vs': 1, 'buffer_se': 0, 'extra_shared_config_memory': 0, 'realtime_se_metrics': {'duration': 0, 'enabled': True}, 'auto_rebalance': True, 'auto_rebalance_interval': 30, 'auto_rebalance_criteria': ['SE_AUTO_REBALANCE_CPU'], 'instance_flavor': 'n1-standard-1'} api_context:{'session_id': 'gmbxb4jt27w9uex4uhrldm2qlhtik8nv', 'csrftoken': '26qDLlpU6DVyl8bcEcmxbwvVskqJ4T7r'} "}
null_resource.foo7 (remote-exec): failed: [localhost] (item=Modifying SE group called seGroupGslb) => {"ansible_loop_var": "item", "changed": false, "item": {"buffer_se": 0, "extra_shared_config_memory": 2000, "ha_mode": "HA_MODE_SHARED", "instance_flavor": "n1-standard-2", "min_scaleout_per_vs": 1, "name": "seGroupGslb", "realtime_se_metrics": {"duration": 0, "enabled": true}}, "msg": "Error 400 Msg {\"error\": \"Get https://compute.googleapis.com/compute/v1/projects/projectavi-283209/regions/europe-north1?alt=json&prettyPrint=false: x509: certificate specifies an incompatible key usage\"} req: {'cloud_ref': '/api/cloud/?name=cloudGcp', 'name': 'seGroupGslb', 'ha_mode': 'HA_MODE_SHARED', 'min_scaleout_per_vs': 1, 'buffer_se': 0, 'extra_shared_config_memory': 2000, 'realtime_se_metrics': {'duration': 0, 'enabled': True}, 'instance_flavor': 'n1-standard-2'} api_context:{'session_id': 'wbwx9n8u35qtpwp7pd1bv1oli5uk34xw', 'csrftoken': '0g8cuG9eWY78H6hQk8uoFrXvZ2GDmyTq'} "}

null_resource.foo7 (remote-exec): PLAY RECAP *********************************************************************
null_resource.foo7 (remote-exec): 34.88.134.19               : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
null_resource.foo7 (remote-exec): localhost                  : ok=34   changed=13   unreachable=0    failed=1    skipped=59   rescued=0    ignored=2

╷
│ Error: remote-exec provisioner error
│
│   with null_resource.foo7,
│   on ansible.tf line 11, in resource "null_resource" "foo7":
│   11:   provisioner "remote-exec" {
│
│ error executing "/tmp/terraform_1946174274.sh": Process exited with status 2
╵
